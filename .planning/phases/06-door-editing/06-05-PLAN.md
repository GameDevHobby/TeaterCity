---
phase: 06-door-editing
plan: 05
type: execute
wave: 4
depends_on: ["06-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Door can be added by tapping available wall tile"
    - "Door can be removed by tapping existing door"
    - "Door placement blocked into adjacent rooms"
    - "Navigation mesh allows patrons through new doors"
  artifacts: []
  key_links: []
---

<objective>
Human verification of complete door editing workflow.

Purpose: Verify all door editing functionality works end-to-end with visual feedback and navigation updates.

Output: Verified working door editing feature with user confirmation.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-door-editing/06-04-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete door editing workflow: add/remove doors with validation, visual feedback, navigation updates</what-built>
  <how-to-verify>
1. Run the game (godot --path .)
2. Create a room if none exists (or load existing save)
3. Tap a room to select it
4. Tap "Edit Room" button in the menu

**Test door add (DOOR-01):**
5. Observe wall tiles highlighted in orange/warm color
6. Tap an orange wall tile
7. Verify door is created (visual changes, tile becomes walkable)
8. Check that wall highlight refreshes showing one fewer orange tile

**Test adjacent room block (DOOR-03):**
9. If you have adjacent rooms, try adding a door on a wall that faces another room
10. Verify placement is blocked with error message

**Test door remove (DOOR-02):**
11. Tap an existing door (should be highlighted in purple)
12. Verify door is removed and wall is restored
13. Check wall tile shows proper terrain connections (no visual gaps)

**Test minimum door validation:**
14. If room has only one door, try removing it
15. Verify removal is blocked with "Minimum 1 door(s) required" message

**Test navigation update:**
16. After adding a door, spawn or wait for patrons
17. Verify patrons can walk through the new door
18. After removing a door, verify patrons treat it as a wall

**Test persistence:**
19. Exit and restart the game
20. Verify door changes persisted correctly
  </how-to-verify>
  <resume-signal>Type "approved" if all tests pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
All user acceptance tests pass as described above.
</verification>

<success_criteria>
- DOOR-01: Player can add doors to room walls - VERIFIED
- DOOR-02: Player can remove doors from room - VERIFIED
- DOOR-03: Doors can only open to empty space (not into adjacent rooms) - VERIFIED
- Navigation mesh updates after door add/remove - VERIFIED
- Changes persist across game restart - VERIFIED
</success_criteria>

<output>
After completion, create `.planning/phases/06-door-editing/06-05-SUMMARY.md`
</output>
